<!DOCTYPE html>
<html>

<head>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <title>{% block title %}{% endblock %}</title>

</head>

<body>
    <header>
        <nav>
            <div class="nav-wrapper blue-grey darken-1">
                <a href="#" data-target="sidenav" class="sidenav-trigger"><i class="material-icons">menu</i></a>
                <ul id="nav-mobile" class="right hide-on-med-and-down">
                    {% if user %}
                    <li>@{{ user.username }}</li>
                    <li><a href="/">Профиль</a></li>
                    <li><a href="/new">Добавить репортаж</a></li>
                    <li><a href="/logout">Выйти</a></li>
                    {% else %}
                    <li><a href="/login">Вход</a></li>
                    <li><a href="/register">Регистрация</a></li>
                    {% endif %}
                </ul>
            </div>
        </nav>

        <ul class="sidenav" id="sidenav">
            {% if user %}
            <li>@{{ user.username }}</li>
            <li><a href="/">Профиль</a></li>
            <li><a href="/new">Добавить репортаж</a></li>
            <li><a href="/logout">Выйти</a></li>
            {% else %}
            <li><a href="/login">Вход</a></li>
            <li><a href="/register">Регистрация</a></li>
            {% endif %}
        </ul>
    </header>

    <main>
        {% block content %}
        {% endblock %}
    </main>

    {% if msg %}
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            M.toast({ html: '{{ msg }}' });
        });
    </script>
    {% endif %}

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var elems = document.querySelectorAll('.sidenav');
            var instances = M.Sidenav.init(elems);
        });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
</body>

</html>